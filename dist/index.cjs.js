const t=2e3;async function n(t,n,o){return function(t){return/^<script/.test(t)}(t)?await async function(t,n,o){const r=function(t){const n=e(t)[0],o=document.createElement("script");for(const t of n.attributes)o.setAttribute(t.name,t.value);return o.text=n.text,o}(t);n.appendChild(r),r.hasAttribute("src")&&!r.hasAttribute("async")&&await function(t,n){return new Promise((e,o)=>{const r=window.setTimeout(()=>o(new Error("Timed out after "+n+"ms")),n);t.onload=(()=>{window.clearTimeout(r),e()}),t.onerror=(t=>{window.clearTimeout(r),o(t)})})}(r,o)}(t,n,o):function(t,n){const o=e(t);for(;o.length;)n.appendChild(o[0])}(t,n)}function e(t){const n=document.createElement("template");return n.innerHTML=t,n.content.childNodes}module.exports=async function(e,o,r=t){const c=e.split(/(<script[\s\S]*?<\/script>)/).filter(t=>""!==t);for(const t of c)await n(t,o,r)};
